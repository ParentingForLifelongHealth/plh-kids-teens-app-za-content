{
  "==content_list==": [
    {
      "flow_type": "data_list",
      "flow_name": "onboarding_settings_pages",
      "status": "released",
      "data_list_name": "onboarding_settings_pages"
    },
    {
      "flow_type": "template",
      "flow_name": "onboarding_settings_page_1",
      "status": "released"
    },
    {
      "flow_type": "template",
      "flow_name": "onboarding_settings_page_2",
      "status": "released"
    },
    {
      "flow_type": "template",
      "flow_name": "onboarding_settings_page_3",
      "status": "released"
    }
  ],
  "onboarding_settings_pages": [
    {
      "id": "page_1",
      "completed": false,
      "completed_count": 0
    },
    {
      "id": "page_2",
      "completed": false,
      "completed_count": 1
    },
    {
      "id": "page_3",
      "completed": false,
      "completed_count": 2
    }
  ],
  "onboarding_settings_page_1": [
    {
      "name": "speaker_position",
      "value": "left",
      "exclude_from_translation": true
    },
    {
      "name": "variant",
      "value": "gray",
      "exclude_from_translation": true
    },
    {
      "type": "text_bubble",
      "name": "text_bubble",
      "value": "@global.facilitator_message_1",
      "parameter_list": "speaker_position: @local.speaker_position;\nvariant: @local.variant;"
    },
    {
      "type": "image",
      "name": "image",
      "value": "@global.facilitator_intro_image_asset"
    },
    {
      "type": "begin_display_group",
      "name": "dg_footer",
      "parameter_list": "sticky: bottom;",
      "style_list": "padding: 12px 24px;"
    },
    {
      "type": "button",
      "name": "button_completed_2",
      "value": "@global.continue",
      "action_list": "click | emit: completed;",
      "parameter_list": "style: navigation;",
      "style_list": "flex: 1"
    },
    {
      "type": "end_display_group"
    }
  ],
  "onboarding_settings_page_2": [
    {
      "name": "speaker_name",
      "value": "@data.characters.facilitator.name"
    },
    {
      "name": "speaker_image_asset",
      "value": "@data.characters.facilitator.image_asset"
    },
    {
      "name": "speaker_position",
      "value": "left",
      "exclude_from_translation": true
    },
    {
      "name": "variant",
      "value": "gray",
      "exclude_from_translation": true
    },
    {
      "type": "text_bubble",
      "name": "text_bubble",
      "value": "@global.facilitator_message_2",
      "parameter_list": "speaker_image_asset: @local.speaker_image_asset;\nspeaker_name: @local.speaker_name;\nspeaker_position: @local.speaker_position;\nvariant: @local.variant;",
      "exclude_from_translation": true
    },
    {
      "type": "text",
      "name": "question_user_name",
      "value": "@global.question_user_name",
      "parameter_list": "style: emphasised;",
      "exclude_from_translation": true
    },
    {
      "type": "text_box",
      "name": "user_name_input",
      "value": "@fields.user_name",
      "parameter_list": "placeholder: @global.placeholder_user_name;",
      "condition": "!!@fields.user_name",
      "exclude_from_translation": true
    },
    {
      "type": "text_box",
      "name": "user_name_input",
      "value": "@fields._auth_user_given_name",
      "parameter_list": "placeholder: @global.placeholder_user_name;",
      "condition": "!@fields.user_name && !!@fields._auth_user_given_name",
      "exclude_from_translation": true
    },
    {
      "type": "text_box",
      "name": "user_name_input",
      "parameter_list": "placeholder: @global.placeholder_user_name;",
      "condition": "!@fields.user_name && !@fields._auth_user_given_name",
      "exclude_from_translation": true
    },
    {
      "type": "text",
      "name": "question_user_gender",
      "value": "@global.question_user_gender",
      "parameter_list": "style: emphasised;"
    },
    {
      "type": "combo_box",
      "name": "user_gender_select",
      "value": "@fields.user_gender",
      "parameter_list": "answer_list: @data.user_gender;\nplaceholder: @global.placeholder_user_gender;\nvariant: dropdown;",
      "condition": "!!@fields.user_gender",
      "exclude_from_translation": true
    },
    {
      "type": "combo_box",
      "name": "user_gender_select",
      "parameter_list": "answer_list: @data.user_gender;\nplaceholder: @global.placeholder_user_gender;\nvariant: dropdown;",
      "condition": "!@fields.user_gender",
      "exclude_from_translation": true
    },
    {
      "type": "text",
      "name": "question_household_children",
      "value": "@global.question_household_children",
      "parameter_list": "style: emphasised;",
      "exclude_from_translation": true
    },
    {
      "type": "text_box",
      "name": "household_children_input",
      "value": "@fields.household_children",
      "parameter_list": "placeholder: @global.placeholder_household_children;\nnumber_input: true;",
      "condition": "!!@fields.household_children",
      "exclude_from_translation": true
    },
    {
      "type": "text_box",
      "name": "household_children_input",
      "parameter_list": "placeholder: @global.placeholder_household_children;\nnumber_input: true;",
      "condition": "!@fields.household_children",
      "exclude_from_translation": true
    },
    {
      "name": "valid_household_children_input",
      "value": "@calc((/^\\d+$/.test(@local.household_children_input) && @local.household_children_input>= 1 && @local.household_children_input<= 20) || @local.household_children_input == '' || !@local.household_children_input)",
      "exclude_from_translation": true
    },
    {
      "type": "text",
      "name": "warning_household_children_input",
      "value": "@global.household_children_input_restriction",
      "condition": "!@local.valid_household_children_input",
      "style_list": "color: #FF0000;\nfont-size: 14px",
      "exclude_from_translation": true
    },
    {
      "type": "text",
      "name": "question_user_type",
      "value": "@global.question_user_type",
      "parameter_list": "style: emphasised;"
    },
    {
      "type": "combo_box",
      "name": "user_type_select",
      "value": "@fields.user_type",
      "parameter_list": "answer_list: @data.user_type;\nplaceholder: @global.placeholder_user_type;\nvariant: dropdown;",
      "condition": "!!@fields.user_type",
      "exclude_from_translation": true
    },
    {
      "type": "combo_box",
      "name": "user_type_select",
      "parameter_list": "answer_list: @data.user_type;\nplaceholder: @global.placeholder_user_type;\nvariant: dropdown;",
      "condition": "!@fields.user_type",
      "exclude_from_translation": true
    },
    {
      "name": "completed_enabled",
      "value": "!!@local.user_type_select && !!@local.user_name_input && !!@local.user_gender_select && !!@local.household_children_input && @local.valid_household_children_input",
      "exclude_from_translation": true
    },
    {
      "type": "begin_display_group",
      "name": "dg_footer",
      "parameter_list": "sticky: bottom;",
      "style_list": "padding: 12px 24px;"
    },
    {
      "type": "round_button",
      "name": "button_back",
      "action_list": "click | emit: uncompleted",
      "parameter_list": "icon_src: arrow-back;\nvariant: no-background;"
    },
    {
      "type": "button",
      "name": "button_completed",
      "value": "@global.continue",
      "action_list": "click | set_field: user_type: @local.user_type_select;\nclick | set_field: user_name: @local.user_name_input;\nclick | set_field: user_gender: @local.user_gender_select;\nclick | set_field: household_children: @local.household_children_input;\nclick | emit: completed;",
      "parameter_list": "style: navigation;\ndisabled: !@local.completed_enabled",
      "style_list": "flex: 1"
    },
    {
      "type": "end_display_group"
    }
  ],
  "onboarding_settings_page_3": [
    {
      "name": "speaker_name",
      "value": "@data.characters.facilitator.name",
      "exclude_from_translation": true
    },
    {
      "name": "speaker_image_asset",
      "value": "@data.characters.facilitator.image_asset",
      "exclude_from_translation": true
    },
    {
      "name": "speaker_position",
      "value": "left",
      "exclude_from_translation": true
    },
    {
      "name": "variant",
      "value": "gray",
      "exclude_from_translation": true
    },
    {
      "exclude_from_translation": true
    },
    {
      "name": "facilitator_message",
      "value": "@global.facilitator_message_3",
      "exclude_from_translation": true
    },
    {
      "name": "question_child_age",
      "value": "@global.question_child_age",
      "exclude_from_translation": true
    },
    {
      "name": "facilitator_message",
      "value": "@global.facilitator_message_3_multipe_child",
      "condition": "@fields.household_children > 1",
      "exclude_from_translation": true
    },
    {
      "name": "question_child_age",
      "value": "@global.question_child_age_multipe_child",
      "condition": "@fields.household_children > 1",
      "exclude_from_translation": true
    },
    {
      "type": "text_bubble",
      "name": "text_bubble",
      "value": "@local.facilitator_message",
      "parameter_list": "speaker_image_asset: @local.speaker_image_asset;\nspeaker_name: @local.speaker_name;\nspeaker_position: @local.speaker_position;\nvariant: @local.variant;",
      "exclude_from_translation": true
    },
    {
      "type": "text",
      "name": "question_child_age",
      "value": "@local.question_child_age",
      "parameter_list": "style: emphasised;",
      "exclude_from_translation": true
    },
    {
      "type": "text_box",
      "name": "child_age_input",
      "value": "@fields.child_age",
      "parameter_list": "placeholder: @global.placeholder_child_age;\nnumber_input: true;",
      "condition": "!!@fields.child_age",
      "exclude_from_translation": true
    },
    {
      "type": "text_box",
      "name": "child_age_input",
      "parameter_list": "placeholder: @global.placeholder_child_age;\nnumber_input: true;",
      "condition": "!@fields.child_age",
      "exclude_from_translation": true
    },
    {
      "name": "valid_child_age_input",
      "value": "@calc((/^\\d+$/.test(@local.child_age_input) && @local.child_age_input>= 2 && @local.child_age_input<= 17) || @local.child_age_input == '' || !@local.child_age_input)",
      "exclude_from_translation": true
    },
    {
      "type": "text",
      "name": "warning_child_age_input",
      "value": "@global.child_age_input_restriction",
      "style_list": "color: #FF0000;\nfont-size: 14px",
      "condition": "!@local.valid_child_age_input",
      "exclude_from_translation": true
    },
    {
      "name": "child_age_tag",
      "value": "@calc(@local.child_age_input <10 ? \"child\" : \"teen\")",
      "exclude_from_translation": true
    },
    {
      "name": "completed_enabled",
      "value": "!!@local.child_age_input && @local.valid_child_age_input",
      "exclude_from_translation": true
    },
    {
      "type": "begin_display_group",
      "name": "dg_footer",
      "parameter_list": "sticky: bottom;",
      "style_list": "padding: 12px 24px;",
      "exclude_from_translation": true
    },
    {
      "type": "round_button",
      "name": "button_back",
      "action_list": "click | emit: uncompleted",
      "parameter_list": "icon_src: arrow-back;\nvariant: no-background;",
      "exclude_from_translation": true
    },
    {
      "type": "button",
      "name": "button_completed_2",
      "value": "@global.continue",
      "action_list": "click | set_field: child_age: @local.child_age_input;\nclick | set_field: child_age_tag: @local.child_age_tag;\nclick | emit: completed;",
      "parameter_list": "style: navigation;\ndisabled: !@local.completed_enabled",
      "style_list": "flex: 1",
      "exclude_from_translation": true
    },
    {
      "type": "end_display_group"
    }
  ]
}