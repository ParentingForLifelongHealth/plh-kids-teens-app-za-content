{
  "flow_type": "template",
  "flow_name": "home_screen",
  "status": "released",
  "parameter_list": {
    "app_config": {
      "LAYOUT": {
        "page_padding": "0 0"
      }
    }
  },
  "rows": [
    {
      "name": "home_screen_logo",
      "value": "images/logos/app_logo.png",
      "condition": "!@global.home_screen_logo_asset"
    },
    {
      "name": "home_screen_logo",
      "value": "@global.home_screen_logo_asset",
      "condition": "!!@global.home_screen_logo_asset"
    },
    {
      "name": "home_screen_logo_height",
      "value": "48px",
      "condition": "!@global.home_screen_logo_height"
    },
    {
      "name": "home_screen_logo_height",
      "value": "@global.home_screen_logo_height",
      "condition": "!!@global.home_screen_logo_height"
    },
    {
      "name": "false_text",
      "value": "@global.map",
      "exclude_from_translation": true
    },
    {
      "name": "true_text",
      "value": "@global.list",
      "exclude_from_translation": true
    },
    {
      "name": "now",
      "value": "@calc(timestamp())"
    },
    {
      "type": "begin_display_group",
      "name": "dg_sticky_top",
      "parameter_list": "sticky: top; \nstyle: column;",
      "exclude_from_translation": true,
      "style_list": "background-color: white;"
    },
    {
      "type": "begin_display_group",
      "name": "dg_row",
      "exclude_from_translation": true,
      "style_list": "justify-content: space-between"
    },
    {
      "type": "image",
      "name": "image",
      "value": "@local.home_screen_logo",
      "exclude_from_translation": true,
      "style_list": "height: @local.home_screen_logo_height;\nmargin-top: 8px;\nmargin-bottom: -8px;\nmargin-inline-start: 24px;",
      "comment": "Need to make up for 1em extra margin added on the component below this. \n\nHacky workaround to have margin-bottom: -1em + 8px = -8px"
    },
    {
      "type": "toggle_bar",
      "name": "display_modules_as_list",
      "value": "@fields.display_modules_as_list",
      "action_list": "changed | set_field: display_modules_as_list: @local.display_modules_as_list",
      "parameter_list": "show_icons: false; \nvariant: ios;\nfalse_text: @local.false_text; \ntrue_text: @local.true_text;\nposition: right",
      "exclude_from_translation": true,
      "hidden": true
    },
    {
      "type": "end_display_group"
    },
    {
      "name": "has_been_clicked_previously",
      "value": "!!@fields.homescreen_quickstart_click_history"
    },
    {
      "name": "updated_value",
      "value": "@fields.homescreen_quickstart_click_history;  @local.now"
    },
    {
      "type": "begin_display_group",
      "name": "dg_blue",
      "style_list": "background-color: var(--ion-color-primary-500);\nbackground-image: linear-gradient(to right, var(--ion-color-primary-700), var(--ion-color-primary-400));"
    },
    {
      "type": "begin_template",
      "name": "home_screen_header",
      "value": "home_screen_header",
      "action_list": "completed | set_item | homescreen_quickstart_click_history: @local.now",
      "condition": "!@local.has_been_clicked_previously",
      "exclude_from_translation": true,
      "style_list": "margin-top: -1em"
    },
    {
      "type": "end_template",
      "exclude_from_translation": true
    },
    {
      "type": "begin_template",
      "name": "home_screen_header",
      "value": "home_screen_header",
      "action_list": "completed | set_item | homescreen_quickstart_click_history: @local.updated_value",
      "condition": "@local.has_been_clicked_previously",
      "exclude_from_translation": true,
      "style_list": "margin-top: -1em"
    },
    {
      "type": "end_template",
      "exclude_from_translation": true
    },
    {
      "type": "end_display_group"
    },
    {
      "type": "end_display_group",
      "exclude_from_translation": true
    },
    {
      "type": "begin_template",
      "name": "module_path",
      "value": "module_path",
      "condition": "!@fields.display_modules_as_list",
      "exclude_from_translation": true
    },
    {
      "type": "end_template",
      "exclude_from_translation": true
    },
    {
      "type": "begin_template",
      "name": "module_list",
      "value": "module_list",
      "condition": "@fields.display_modules_as_list",
      "exclude_from_translation": true,
      "style_list": "padding: 24px 24px 0px 24px;\nmargin-top: -1em"
    },
    {
      "type": "end_template",
      "exclude_from_translation": true
    }
  ]
}